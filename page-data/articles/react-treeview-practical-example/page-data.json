{"componentChunkName":"component---src-templates-article-page-template-js","path":"/articles/react-treeview-practical-example/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"TreeView component - a practical example","subtitle":"Article about creating a tree view component","date":"2019-11-18","publishedBy":"Henrik Grönvall"},"excerpt":"In this article I will describe a practical example of when I created a tree view component for this web site - using\nGraphQL to query data from Gatsby…","timeToRead":4,"html":"<p>In this article I will describe a practical example of when I created a tree view component for this web site - using\nGraphQL to query data from Gatsby, JavaScript to transform the data structure into another data structure to be used\nin the tre view component.</p>\n<h1>Getting data from Gatsby</h1>\n<p>When building with Gatsby, we access our data through a query language - GraphQL. GraphQL allows you to declarative\nexpress your data needs. This is done with queries, queries are the representation of the data you need.</p>\n<p>For example, I'm using static query hooks to get the data from Gatsby</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n * Function that query article data,\n * - filtering to include only articles that are published\n * - sorting articles in descending order\n * - format the date (published date) as long month and year only\n * @return [Array] edges - array of objects\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useArticlesByMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    allMarkdownRemark<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> edges <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query allArticlesByMonth {\n      allMarkdownRemark(\n        filter: {\n          fileAbsolutePath: { regex: \"/(articles)/.*\\\\\\\\.md$/\" }\n          frontmatter: { published: { ne: \"No\" } }\n        }\n        sort: { fields: [frontmatter___date], order: DESC }\n      ) {\n        edges {\n          node {\n            frontmatter {\n              title\n              date(formatString: \"MMMM, YYYY\")\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> edges\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The data structure this query returns have a shape typical for GraphQL and Gatsby and is described next.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">/**</span>\n<span class=\"token comment\"> * Data structure returned by GraphQL query</span>\n<span class=\"token comment\"> */</span>\n<span class=\"token keyword\">const</span> edges <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    node<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      frontmatter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token operator\">:</span> <span class=\"token string\">'Node.js worker threads'</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">        date<span class=\"token operator\">:</span> <span class=\"token string\">'November, 2019'</span></span>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/nodejs-worker-threads/'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    node<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      frontmatter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token operator\">:</span> <span class=\"token string\">'JavaScript prototype'</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">        date<span class=\"token operator\">:</span> <span class=\"token string\">'November, 2019'</span></span>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/js-object-explained/'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    node<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      frontmatter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token operator\">:</span> <span class=\"token string\">'Node.js architecture - overview'</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">        date<span class=\"token operator\">:</span> <span class=\"token string\">'January, 2018'</span></span>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/nodejs-architecture-overview/'</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The shape of the data structure is basically an array with objects and it is all nice and dandy, but pay attention to\nrow number 9, 18 and 27. </p>\n<p>When I'm creating the tree view component, the data structure will be different and we are\ngoing to need an object with keys for all date properties and array of objects for all titles and slugs for that key.</p>\n<h1>The tree view component</h1>\n<p>The tree view component is build using Material-UI's own TreeView and TreeItem components. When rendering the tre views\nwe want to traverse a data structure that fits our requirements. The desired data structure is;</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n * Data structure needed to render the tree view component\n */</span>\n<span class=\"token keyword\">const</span> articles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  November<span class=\"token punctuation\">,</span> <span class=\"token number\">2019</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token operator\">:</span> <span class=\"token string\">'Node.js worker threads'</span><span class=\"token punctuation\">,</span>\n      slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/nodejs-worker-threads/'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token operator\">:</span> <span class=\"token string\">'JavaScript prototype'</span><span class=\"token punctuation\">,</span>\n      slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/js-object-explained/'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  January<span class=\"token punctuation\">,</span> <span class=\"token number\">2018</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token operator\">:</span> <span class=\"token string\">'Node.js architecture - overview'</span><span class=\"token punctuation\">,</span>\n      slug<span class=\"token operator\">:</span> <span class=\"token string\">'/articles/nodejs-architecture-overview/'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>A common pattern when transforming array of objects is using the reduce method of an array and transform the array to\nanother data structure. For example.</p>\n</blockquote>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">/**</span>\n<span class=\"token comment\"> * Simple array of objects data structure</span>\n<span class=\"token comment\"> */</span>\n<span class=\"token keyword\">const</span> people <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> firstname<span class=\"token operator\">:</span> <span class=\"token string\">'Kalle'</span><span class=\"token punctuation\">,</span> lastName<span class=\"token operator\">:</span> <span class=\"token string\">'Kula'</span><span class=\"token punctuation\">,</span> country<span class=\"token operator\">:</span> <span class=\"token string\">'Sweden'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> firstname<span class=\"token operator\">:</span> <span class=\"token string\">'Arne'</span><span class=\"token punctuation\">,</span> lastName<span class=\"token operator\">:</span> <span class=\"token string\">'Arneson'</span><span class=\"token punctuation\">,</span> country<span class=\"token operator\">:</span> <span class=\"token string\">'Finland'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> firstname<span class=\"token operator\">:</span> <span class=\"token string\">'Kajsa'</span><span class=\"token punctuation\">,</span> lastName<span class=\"token operator\">:</span> <span class=\"token string\">'Andersson'</span><span class=\"token punctuation\">,</span> country<span class=\"token operator\">:</span> <span class=\"token string\">'Sweden'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">/**</span>\n<span class=\"token comment\"> * Function that transform an array into an object by a property</span>\n<span class=\"token comment\"> * @param {Array} objectArray - array to be transformed</span>\n<span class=\"token comment\"> * @param {String} property - the property to use for key(s) </span>\n<span class=\"token comment\"> * @returns {*}</span>\n<span class=\"token comment\"> */</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">groupByProperty</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">objectArray<span class=\"token punctuation\">,</span> property</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> objectArray<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span>    <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">[</span>property<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Transform the array into an object keyed by the country property</span>\n<span class=\"token keyword\">const</span> groupedPeople <span class=\"token operator\">=</span> <span class=\"token function\">groupByProperty</span><span class=\"token punctuation\">(</span>people<span class=\"token punctuation\">,</span> <span class=\"token string\">'country'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*</span>\n<span class=\"token comment\"> The variable groupedPeople will contain.</span>\n<span class=\"token comment\"></span>\n<span class=\"token comment\">{</span>\n<span class=\"token comment\">  Sweden: [</span>\n<span class=\"token comment\">    { firstname: 'Kalle', lastName: 'Kula', country: 'Sweden' },</span>\n<span class=\"token comment\">    { firstname: 'Kajsa', lastName: 'Andersson', country: 'Sweden' }</span>\n<span class=\"token comment\">  ],</span>\n<span class=\"token comment\">  Finland: [ </span>\n<span class=\"token comment\">    { firstname: 'Arne', lastName: 'Arneson', country: 'Finland' } </span>\n<span class=\"token comment\">  ]</span>\n<span class=\"token comment\">}</span>\n<span class=\"token comment\">*/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1>The solution</h1>\n<p>I did solve this in a similar way, however, my implementation is little different since the the original array of object\nis nested and the solution is shown below, combined with my GraphQL query function. </p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">/**</span>\n<span class=\"token comment\"> * Function that groups an array of object</span>\n<span class=\"token comment\"> * @param edges</span>\n<span class=\"token comment\"> * @returns {*}</span>\n<span class=\"token comment\"> */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">groupByDate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">edges</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> edges<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> edge</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Destruct current object to get the property</span>\n    <span class=\"token comment\">// I want use as a key</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> node<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> frontmatter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> date <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> edge\n    \n    <span class=\"token comment\">// In this case, assign the date </span>\n    <span class=\"token comment\">// property as a key</span>\n    <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> date\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Store common objects in an array for the key</span>\n    acc<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>edge<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>edge<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> acc\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/**</span>\n<span class=\"token comment\"> * Function that query article data,</span>\n<span class=\"token comment\"> * - filtering to include only articles that are published</span>\n<span class=\"token comment\"> * - sorting articles in descending order</span>\n<span class=\"token comment\"> * - format the date (published date) as long month and year only</span>\n<span class=\"token comment\"> * @return [Array] edges - array of markdown edges</span>\n<span class=\"token comment\"> */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useArticlesByMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    allMarkdownRemark<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> edges <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"token string\">    query allArticlesByMonth {</span>\n<span class=\"token string\">      allMarkdownRemark(</span>\n<span class=\"token string\">        filter: {</span>\n<span class=\"token string\">          fileAbsolutePath: { regex: \"/(articles)/.*\\\\\\\\.md$/\" }</span>\n<span class=\"token string\">          frontmatter: { published: { ne: \"No\" } }</span>\n<span class=\"token string\">        }</span>\n<span class=\"token string\">        sort: { fields: [frontmatter___date], order: DESC }</span>\n<span class=\"token string\">      ) {</span>\n<span class=\"token string\">        edges {</span>\n<span class=\"token string\">          node {</span>\n<span class=\"token string\">            frontmatter {</span>\n<span class=\"token string\">              title</span>\n<span class=\"token string\">              date(formatString: \"MMMM, YYYY\")</span>\n<span class=\"token string\">            }</span>\n<span class=\"token string\">            fields {</span>\n<span class=\"token string\">              slug</span>\n<span class=\"token string\">            }</span>\n<span class=\"token string\">          }</span>\n<span class=\"token string\">        }</span>\n<span class=\"token string\">      }</span>\n<span class=\"token string\">    }</span>\n<span class=\"token string\">  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> <span class=\"token function\">groupByDate</span><span class=\"token punctuation\">(</span>edges<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>That's it, all the magics happen in line 60, I'm using the useArticlesByMonth function to get the correct\ndata and structure to the tree view component. In the tree view component I iterate all keys (months) and render\nTreeItems in a parent children relations</p>\n<p>The React tree view component.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token comment\">// material-ui</span>\n<span class=\"token keyword\">import</span> Paper <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Paper'</span>\n<span class=\"token keyword\">import</span> Box <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Box'</span>\n<span class=\"token keyword\">import</span> Typography <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/Typography'</span>\n<span class=\"token keyword\">import</span> TreeView <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/lab/TreeView'</span>\n<span class=\"token keyword\">import</span> TreeItem <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/lab/TreeItem'</span>\n<span class=\"token keyword\">import</span> ExpandMoreIcon <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/icons/ExpandMore'</span>\n<span class=\"token keyword\">import</span> ChevronRightIcon <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/icons/ChevronRight'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withStyles <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span>\n\n<span class=\"token comment\">// Data query function</span>\n<span class=\"token keyword\">import</span> useArticlesByMonth <span class=\"token keyword\">from</span> <span class=\"token string\">'../../data/useArticlesByMonth'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">styles</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">theme</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  root<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    flexGrow<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    maxWidth<span class=\"token operator\">:</span> <span class=\"token number\">400</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">/**\n * Function render articles by month and year in a tre views\n * @param classes\n * @param navigate\n * @returns {*}\n * @constructor\n */</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">ArticlesTreeView</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> classes<span class=\"token punctuation\">,</span> navigate <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> articlesByMonthTree <span class=\"token operator\">=</span> <span class=\"token function\">useArticlesByMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Box clone p<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Paper elevation<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Typography component<span class=\"token operator\">=</span><span class=\"token string\">\"div\"</span> variant<span class=\"token operator\">=</span><span class=\"token string\">\"caption\"</span> gutterBottom<span class=\"token operator\">></span>\n          Articles by months\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Typography<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>TreeView\n          className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">}</span>\n          defaultCollapseIcon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>ExpandMoreIcon <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n          defaultExpandIcon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>ChevronRightIcon <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>articlesByMonthTree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">month<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> nodes <span class=\"token operator\">=</span> articlesByMonthTree<span class=\"token punctuation\">[</span>month<span class=\"token punctuation\">]</span>\n\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n              <span class=\"token operator\">&lt;</span>TreeItem key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> nodeId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>month<span class=\"token punctuation\">}</span> label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>month<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>nodes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> slug <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>TreeItem \n                           key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> \n                           nodeId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span> \n                           label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span> \n                           onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span>slug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>TreeItem<span class=\"token operator\">></span>\n            <span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>TreeView<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Paper<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withStyles</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>ArticlesTreeView<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}},"pageContext":{"slug":"/articles/react-treeview-practical-example/"}},"staticQueryHashes":["2940938484"]}